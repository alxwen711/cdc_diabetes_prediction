<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alexander Wen, Raymond Wong, Michael Eirikson">

<title>Diabetes Prediction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="cdc_diabetes_prediction_report_files/libs/clipboard/clipboard.min.js"></script>
<script src="cdc_diabetes_prediction_report_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="cdc_diabetes_prediction_report_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="cdc_diabetes_prediction_report_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="cdc_diabetes_prediction_report_files/libs/quarto-html/popper.min.js"></script>
<script src="cdc_diabetes_prediction_report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="cdc_diabetes_prediction_report_files/libs/quarto-html/anchor.min.js"></script>
<link href="cdc_diabetes_prediction_report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cdc_diabetes_prediction_report_files/libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="cdc_diabetes_prediction_report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="cdc_diabetes_prediction_report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="cdc_diabetes_prediction_report_files/libs/bootstrap/bootstrap-fc0e81308003d781c6fa911fdb61a094.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a></li>
  <li><a href="#modeling-approach" id="toc-modeling-approach" class="nav-link" data-scroll-target="#modeling-approach">Modeling Approach</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">EDA</a>
  <ul class="collapse">
  <li><a href="#data-summary" id="toc-data-summary" class="nav-link" data-scroll-target="#data-summary">Data Summary</a></li>
  <li><a href="#visualizations" id="toc-visualizations" class="nav-link" data-scroll-target="#visualizations">Visualizations</a></li>
  </ul></li>
  <li><a href="#modeling" id="toc-modeling" class="nav-link" data-scroll-target="#modeling">Modeling</a>
  <ul class="collapse">
  <li><a href="#model-fitting" id="toc-model-fitting" class="nav-link" data-scroll-target="#model-fitting">Model Fitting</a></li>
  <li><a href="#results-1" id="toc-results-1" class="nav-link" data-scroll-target="#results-1">Results</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="../cdc_diabetes_prediction_report.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Diabetes Prediction</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alexander Wen, Raymond Wong, Michael Eirikson </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>In this project we attempt to build a model to predict diabetes disease. We compared a decision tree model and naive bayes model and found the decision tree is stronger in this context. We used f2-score as our scoring function because detecting diabetes is the priority: a false negative could be much worse then a false positive.</p>
<p>In the test dataset: the decision tree model correctly detected 8283 of 10604 positive cases (recall rate is about 78%). This result does come at a fairly significant cost in terms of false positives (precision rate is about 30%) with 19650 false positives. Depending on the actual cost of false positive this may need significant improvement to be a viable screening model.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>In Canada and the USA approximately 10% of people are living with diabetes. In Canada in 2023 approximately 3.7 million people were living with diabetes and in the USA in 2021 approzimately 38.4 million people were living with diabetes. (<span class="citation" data-cites="diabetescanada"><span>“Snapshot of Diabetes in Canada, 2023”</span> (<a href="#ref-diabetescanada" role="doc-biblioref">2023</a>)</span>) In the USA it is the 8th leading cause of death. (<span class="citation" data-cites="usarenal">Rios et al. (<a href="#ref-usarenal" role="doc-biblioref">2017</a>)</span>) Globally an estimated 44% of people living with diabetes are undiagnosed. (<span class="citation" data-cites="diabetescare">Stafford et al. (<a href="#ref-diabetescare" role="doc-biblioref">2025</a>)</span>)</p>
<p>In this project we try to predicted diabetes disease based on common health factors. A reliable model could help to prescreen people and recommend following up with a physician for people who are at risk. Given the large number of people living with undiagnosed diabetes this could potentially have a significant positive impact of world health. The target for our model with be the <code>diabetes</code> column from our dataset: (0 = no diabetes/pre-diabetes, 1 = diabetes).</p>
<p>The analysis uses the American CDC Behavioural Risk Factor Surveillance System (BRFSS) 2015 Diabetes Health Indicators dataset (UCI ID 891), containing 253,680 survey responses with 21 health-related features and a binary diabetes outcome. (<span class="citation" data-cites="kagglediabetes">Dane and Teboul (<a href="#ref-kagglediabetes" role="doc-biblioref">2021</a>)</span>)</p>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="packages" class="level3">
<h3 class="anchored" data-anchor-id="packages">Packages</h3>
<p>This analysis was performed in Python 3.11.6 <span class="citation" data-cites="pythondocs">(<a href="#ref-pythondocs" role="doc-biblioref"><em>Python 3.11.6 Documentation</em> 2021-2025</a>)</span>. Additionally, here is a list of the Python packages used within the analysis with brief explanation:</p>
<table class="caption-top table">
<caption>Table of Python packages used</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Package</th>
<th style="text-align: left;">Version</th>
<th style="text-align: left;">Use case</th>
<th style="text-align: left;">Reference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>numpy</code></td>
<td style="text-align: left;"><a href="https://numpy.org/doc/1.26/"><code>1.26.4</code></a></td>
<td style="text-align: left;">General analysis use</td>
<td style="text-align: left;"><span class="citation" data-cites="numpy"><em>NumPy Documentation</em> (<a href="#ref-numpy" role="doc-biblioref">2008-2022</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>pandas</code></td>
<td style="text-align: left;"><a href="https://pandas.pydata.org/pandas-docs/version/2.1.2/index.html"><code>2.1.2</code></a></td>
<td style="text-align: left;">Data management/processing</td>
<td style="text-align: left;"><span class="citation" data-cites="reback2020pandas">team (<a href="#ref-reback2020pandas" role="doc-biblioref">2020</a>)</span>, <span class="citation" data-cites="mckinney-proc-scipy-2010">McKinney (<a href="#ref-mckinney-proc-scipy-2010" role="doc-biblioref">2010</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>pandera</code></td>
<td style="text-align: left;"><a href="https://pandera.readthedocs.io/en/v0.27.0/"><code>0.27.0</code></a></td>
<td style="text-align: left;">Data valiadion</td>
<td style="text-align: left;"><span class="citation" data-cites="niels_bantilan-proc-scipy-2020">Bantilan (<a href="#ref-niels_bantilan-proc-scipy-2020" role="doc-biblioref">2020</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>altair</code></td>
<td style="text-align: left;"><a href="https://github.com/vega/altair/tree/v5.1.2"><code>5.1.2</code></a></td>
<td style="text-align: left;">Generating plots</td>
<td style="text-align: left;"><span class="citation" data-cites="VanderPlas2018">VanderPlas et al. (<a href="#ref-VanderPlas2018" role="doc-biblioref">2018</a>)</span>, <span class="citation" data-cites="Satyanarayan2017">Satyanarayan et al. (<a href="#ref-Satyanarayan2017" role="doc-biblioref">2017</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>scikit-learn</code></td>
<td style="text-align: left;"><a href="https://scikit-learn.org/1.3/about.html"><code>1.3.2</code></a></td>
<td style="text-align: left;">Model creation and evaluation</td>
<td style="text-align: left;"><span class="citation" data-cites="scikit-learn">Pedregosa et al. (<a href="#ref-scikit-learn" role="doc-biblioref">2011</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ucimlrepo</code></td>
<td style="text-align: left;"><a href="https://github.com/uci-ml-repo/ucimlrepo"><code>0.0.7</code></a></td>
<td style="text-align: left;">Data extraction</td>
<td style="text-align: left;"><span class="citation" data-cites="ucimlrepo">Kelly, Longjohn, and Nottingham (<a href="#ref-ucimlrepo" role="doc-biblioref">2021</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>deepchecks</code></td>
<td style="text-align: left;"><a href="https://docs.deepchecks.com/0.18/getting-started/welcome.html"><code>0.18.1</code></a></td>
<td style="text-align: left;">Data validation</td>
<td style="text-align: left;"><span class="citation" data-cites="chorev2022deepcheckslibrarytestingvalidating">Chorev et al. (<a href="#ref-chorev2022deepcheckslibrarytestingvalidating" role="doc-biblioref">2022</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>click</code></td>
<td style="text-align: left;"><a href="https://click.palletsprojects.com/en/stable/"><code>8.3.1</code></a></td>
<td style="text-align: left;">Script tool</td>
<td style="text-align: left;"><span class="citation" data-cites="click">Pallets (<a href="#ref-click" role="doc-biblioref">2020</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>quarto</code></td>
<td style="text-align: left;"><a href="https://quarto.org"><code>1.8.26</code></a></td>
<td style="text-align: left;">Report creation</td>
<td style="text-align: left;"><span class="citation" data-cites="Allaire_Quarto_2025">Allaire et al. (<a href="#ref-Allaire_Quarto_2025" role="doc-biblioref">2025</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>tabulate</code></td>
<td style="text-align: left;"><a href="https://pypi.org/project/tabulate/"><code>0.9.0</code></a></td>
<td style="text-align: left;">Table formatting</td>
<td style="text-align: left;"><span class="citation" data-cites="astanin_tabulate">Astanin (<a href="#ref-astanin_tabulate" role="doc-biblioref">2025</a>)</span></td>
</tr>
</tbody>
</table>
</section>
<section id="modeling-approach" class="level3">
<h3 class="anchored" data-anchor-id="modeling-approach">Modeling Approach</h3>
<p>The data were split 70/30 into training and test sets with stratification on the target.<br>
Two classifiers were trained and tuned using 5-fold cross-validated grid search with <strong>f2-score</strong> as the scoring metric. We chose to use f2-score. In our dataset is fairly unballanced with the positive class making up about 14% of the data. Furthermore, we deem it to be a much large issue to miss true positive than to miss-identify negatives. This is why we have chosen to use f2-score: f2-score places twice as much emphasis on recall compared to precision.</p>
<ol type="1">
<li><p><strong>Decision Tree</strong> (class_weight=‘balanced’)<br>
Hyperparameters: max_depth: {6,8,10,12,14}, min_samples_leaf: {175, 200, 225, 250}<br>
<strong>Best parameters</strong>: max_depth=10, min_samples_leaf=225<br>
<strong>Best CV f2-score</strong> = 0.587</p></li>
<li><p><strong>Bernoulli Naive Bayes</strong> (with StandardScaler preprocessing)<br>
Hyperparameters: alpha: {1e-3, 1e-2, 1e-1, 1e0, 1e1, 1e2, 1e3, 1e4}<br>
<strong>Best parameters</strong>: alpha=0.001<br>
<strong>Best CV f2-score</strong> = 0.46</p></li>
</ol>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<div class="cell" data-execution_count="5">
<div id="tbl-model_scores" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="5">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-model_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Scores for models.
</figcaption>
<div aria-describedby="tbl-model_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="38">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 15%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 15%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Unnamed: 0</th>
<th style="text-align: left;">Model</th>
<th style="text-align: right;">Test Accuracy</th>
<th style="text-align: right;">Test f2-score</th>
<th style="text-align: right;">Test recall</th>
<th style="text-align: right;">Test precision</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: left;">Decision Tree</td>
<td style="text-align: right;">0.706</td>
<td style="text-align: right;">0.587</td>
<td style="text-align: right;">0.784</td>
<td style="text-align: right;">0.293</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Naive Bayes</td>
<td style="text-align: right;">0.814</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">0.489</td>
<td style="text-align: right;">0.373</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda">EDA</h2>
<section id="data-summary" class="level3">
<h3 class="anchored" data-anchor-id="data-summary">Data Summary</h3>
<div class="cell" data-execution_count="6">
<div id="tbl-describe" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="6">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-describe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Description of the training data.
</figcaption>
<div aria-describedby="tbl-describe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="39">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 28%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<tbody>
<tr class="odd">
<td style="text-align: left;">Unnamed: 0</td>
<td style="text-align: left;">count</td>
<td style="text-align: left;">mean</td>
<td style="text-align: left;">std</td>
<td style="text-align: left;">min</td>
<td style="text-align: left;">25%</td>
<td style="text-align: left;">50%</td>
<td style="text-align: left;">75%</td>
<td style="text-align: left;">max</td>
</tr>
<tr class="even">
<td style="text-align: left;">HighBP</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.4293</td>
<td style="text-align: left;">0.495</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HighChol</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.4228</td>
<td style="text-align: left;">0.494</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">CholCheck</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.9627</td>
<td style="text-align: left;">0.1896</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BMI</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">28.385</td>
<td style="text-align: left;">6.5916</td>
<td style="text-align: left;">12.0</td>
<td style="text-align: left;">24.0</td>
<td style="text-align: left;">27.0</td>
<td style="text-align: left;">31.0</td>
<td style="text-align: left;">98.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Smoker</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.4433</td>
<td style="text-align: left;">0.4968</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stroke</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.0407</td>
<td style="text-align: left;">0.1976</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">HeartDiseaseorAttack</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.094</td>
<td style="text-align: left;">0.2919</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PhysActivity</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.7563</td>
<td style="text-align: left;">0.4293</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fruits</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.6351</td>
<td style="text-align: left;">0.4814</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Veggies</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.8122</td>
<td style="text-align: left;">0.3905</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">HvyAlcoholConsump</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.0563</td>
<td style="text-align: left;">0.2305</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AnyHealthcare</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.9513</td>
<td style="text-align: left;">0.2153</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">NoDocbcCost</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.0845</td>
<td style="text-align: left;">0.2782</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GenHlth</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">2.5128</td>
<td style="text-align: left;">1.0685</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">2.0</td>
<td style="text-align: left;">2.0</td>
<td style="text-align: left;">3.0</td>
<td style="text-align: left;">5.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">MentHlth</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">3.1833</td>
<td style="text-align: left;">7.4056</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">2.0</td>
<td style="text-align: left;">30.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PhysHlth</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">4.2542</td>
<td style="text-align: left;">8.7248</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">3.0</td>
<td style="text-align: left;">30.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">DiffWalk</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.1682</td>
<td style="text-align: left;">0.374</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sex</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.4408</td>
<td style="text-align: left;">0.4965</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">1.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Age</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">8.0321</td>
<td style="text-align: left;">3.0558</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">6.0</td>
<td style="text-align: left;">8.0</td>
<td style="text-align: left;">10.0</td>
<td style="text-align: left;">13.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Education</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">5.049</td>
<td style="text-align: left;">0.9863</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">4.0</td>
<td style="text-align: left;">5.0</td>
<td style="text-align: left;">6.0</td>
<td style="text-align: left;">6.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Income</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">6.0514</td>
<td style="text-align: left;">2.0729</td>
<td style="text-align: left;">1.0</td>
<td style="text-align: left;">5.0</td>
<td style="text-align: left;">7.0</td>
<td style="text-align: left;">8.0</td>
<td style="text-align: left;">8.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">diabetes</td>
<td style="text-align: left;">177576.0</td>
<td style="text-align: left;">0.1393</td>
<td style="text-align: left;">0.3463</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">0.0</td>
<td style="text-align: left;">1.0</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p><a href="#tbl-describe" class="quarto-xref">Table&nbsp;2</a> displays a numerical distribution of the dataset, where as <a href="#tbl-head" class="quarto-xref">Table&nbsp;3</a> lists the first 5 rows transposed of the training dataset as example observations used. Both tables have been transposed from their original form for more syntactical presentation. All features of the dataset consist entirely of integer values, and by all <code>count</code> values being identically 177576 (the number of observations in the training dataset), there exist no null values, making the preprocessing step of the analysis relatively simple.</p>
<div class="cell" data-execution_count="7">
<div id="tbl-head" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="7">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-head-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: First few rows of the training data as example observations.
</figcaption>
<div aria-describedby="tbl-head-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="40">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">0</th>
<th style="text-align: right;">1</th>
<th style="text-align: right;">2</th>
<th style="text-align: right;">3</th>
<th style="text-align: right;">4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">HighBP</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">HighChol</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CholCheck</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">BMI</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Smoker</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Stroke</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HeartDiseaseorAttack</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">PhysActivity</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fruits</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Veggies</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HvyAlcoholConsump</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">AnyHealthcare</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NoDocbcCost</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">GenHlth</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MentHlth</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="even">
<td style="text-align: left;">PhysHlth</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DiffWalk</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Age</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Education</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Income</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">diabetes</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="visualizations" class="level3">
<h3 class="anchored" data-anchor-id="visualizations">Visualizations</h3>
<div id="fig-count" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/EDA_count.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Frequency bar graph of the labels.
</figcaption>
</figure>
</div>
<p>For this supervised learning problem, all observations are labelled as either 0, indicating a negative label for no diabetes, or 1, indicating a positive label for either diabetes or pre-diabetes. From <a href="#fig-count" class="quarto-xref">Figure&nbsp;1</a>, the class distribution is imbalanced with roughly 14% of observations labelled positive for diabetes. This motivates using F2 score as our metric; in this data, a false negative is more problematic than a false positive, thus recall rate is prioritized over precision rate. The exact equation for the F2 score used within model evaluation is as follows:</p>
<p><span class="math display">\[F_2 = \frac{5*\text{precision}*\text{recall}}{(4*\text{precision}+\text{recall})}\]</span></p>
<p>Continuing the EDA, <a href="#fig-binary" class="quarto-xref">Figure&nbsp;2</a> displays the distribution of all binary features, where the labels <code>f = a, d = b</code> <span class="math inline">\((a,b \in \{0,1\})\)</span> indicate the frequencey that an observation had value <code>a</code> in the given feature, and value <code>b</code> in the diabetes label.</p>
<div id="fig-binary" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-binary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/EDA_binary.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-binary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Frequency bar graphs of the binary features.
</figcaption>
</figure>
</div>
<p>There is a significant variance in the distributions of the binary features; <code>Smoker</code> and <code>Sex</code> have similar number of observations where <code>f = 0</code> compared to <code>f = 1</code>, where as a feature like <code>Stroke</code> is heavily weighted to <code>f = 0</code>, indicating very few observations indicate they have had a stroke before. Due to the high number of observations in the dataset, even where there are imbalances, we can expect there to be enough observations with either a positive (<code>1</code>) or negative (<code>0</code>) value for any given binary feature that should prevent low sample size bias. <code>HighBP</code>, <code>HighChol</code>, and <code>Smoker</code> all have more observations with <code>f = 0</code> than <code>f = 1</code>, but in all of those features, the frequency of <code>f = 1, d = 1</code> labels exceed that of <code>f = 0, d = 1</code> labels, which indicate that we can expect that the model will indicate an association with these risks factors and a risk of diabetes.</p>
<div id="fig-histogram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-histogram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/EDA_histogram.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-histogram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Histograms of the non-binary numeric features.
</figcaption>
</figure>
</div>
<div id="fig-boxplot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/EDA_boxplot.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Boxplots of the non-binary numeric features.
</figcaption>
</figure>
</div>
<p><a href="#fig-boxplot" class="quarto-xref">Figure&nbsp;4</a> takes a random sample of 1000 observations so that the boxplot is not overly populated and that the density of the points visibly correlates with <a href="#fig-histogram" class="quarto-xref">Figure&nbsp;3</a> more closely. From analyzing both charts, we can make the following brief observations about each non-binary feature:</p>
<ul>
<li><p><code>Age</code> has been encoded to a 13-point scale that is somewhat normally distributed with a slight negative skew.</p></li>
<li><p><code>BMI</code> is a normally distributed feature with several extreme upper outliers that go up to 98. A BMI of 98 for someone that is 5 feet tall would result in a weight of roughly 500 pounds <span class="citation" data-cites="bmi">Keys et al. (<a href="#ref-bmi" role="doc-biblioref">2014</a>)</span>, which is an outlier, but still reasonably possible that this is considered an accurate observation.</p></li>
<li><p><code>Education</code> is on a 6-point scale, while <code>GenHlth</code> is on a 5-point scale. Both of these features have the option to be preprocessed categorically, but since these are ordinal in nature, using a standard scaler on these features is a reasonable option this analysis goes with.</p></li>
<li><p><code>MentHlth</code> and <code>PhysHlth</code> have the majority of observations with a value of 0</p></li>
</ul>
<p>Most importantly, with all of the varying scales these features are on, it indicates that a <code>StandardScaler()</code> can be used on all numerical features to normalize the values of each feature into identical normal distributions.</p>
<div id="fig-correlation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-correlation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/EDA_correlation.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-correlation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Feature-feature correlation plot of all features.
</figcaption>
</figure>
</div>
<p>Lastly with <a href="#fig-correlation" class="quarto-xref">Figure&nbsp;5</a>, the main observation is that the strongest non-trivial feature-feature correlation does not exceed an absolute magnitued of 0.7. There are several significantly positively correlated feature pairs (<code>PhysHlth</code>-<code>GenHlth</code>, <code>PhysHlth</code>-<code>DiffWalk</code>, <code>Income</code>-<code>Education</code>, <code>GenHlth</code>-<code>DiffWalk</code>) and several significantly negative correlated feature pairs (<code>DiffWalk-Income</code>, <code>GenHlth-Income</code>). Noticably, <code>Income</code>, <code>DiffWalk</code>, and <code>GenHlth</code> appear in both the most positively and most negatively correlated feature pairs and have higher overall correlations with other features compared to other features such as <code>Sex</code>, <code>Smoker</code>, <code>Stroke</code>, and <code>Veggies</code> from the overall darker shades of green and orange in the correlation heatmap. With the <code>diabetes</code> feature, it is most positively correlated with <code>GenHlth</code> and most negatively correlated with <code>Income</code>.</p>
</section>
</section>
<section id="modeling" class="level2">
<h2 class="anchored" data-anchor-id="modeling">Modeling</h2>
<section id="model-fitting" class="level3">
<h3 class="anchored" data-anchor-id="model-fitting">Model Fitting</h3>
<p>The data were split 70/30 into training and test sets with stratification on the target.<br>
Two classifiers were trained and tuned using 5-fold cross-validated grid search with <strong>f2-score</strong> as the scoring metric. We chose to use f2-score. In our dataset is fairly unballanced with the positive class making up about 14% of the data. Furthermore, we deem it to be a much large issue to miss true positive than to miss-identify negatives. This is why we have chosen to use f2-score: f2-score places twice as much emphasis on recall compared to precision.</p>
<ol type="1">
<li><p><strong>Decision Tree</strong> (class_weight=‘balanced’)<br>
Hyperparameters: max_depth: {6,8,10,12,14}, min_samples_leaf: {175, 200, 225, 250}<br>
<strong>Best parameters</strong>: max_depth=10, min_samples_leaf=225<br>
<strong>Best CV f2-score</strong> = 0.587</p></li>
<li><p><strong>Bernoulli Naive Bayes</strong> (with StandardScaler preprocessing)<br>
Hyperparameters: alpha: {1e-3, 1e-2, 1e-1, 1e0, 1e1, 1e2, 1e3, 1e4}<br>
<strong>Best parameters</strong>: alpha=0.001<br>
<strong>Best CV f2-score</strong> = 0.46</p></li>
</ol>
</section>
<section id="results-1" class="level3">
<h3 class="anchored" data-anchor-id="results-1">Results</h3>
<section id="performance-table" class="level4">
<h4 class="anchored" data-anchor-id="performance-table">Performance Table</h4>
<p>The following table summarizes the performance metrics for our two models evaluated on the test set:</p>
<div class="cell" data-execution_count="10">
<div id="tbl-performance-metrics" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="10">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-performance-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Comparison of model performance metrics on the test set
</figcaption>
<div aria-describedby="tbl-performance-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display cell-output-markdown" data-execution_count="43">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 15%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 15%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Unnamed: 0</th>
<th style="text-align: left;">Model</th>
<th style="text-align: right;">Test Accuracy</th>
<th style="text-align: right;">Test f2-score</th>
<th style="text-align: right;">Test recall</th>
<th style="text-align: right;">Test precision</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: left;">Decision Tree</td>
<td style="text-align: right;">0.706</td>
<td style="text-align: right;">0.587</td>
<td style="text-align: right;">0.784</td>
<td style="text-align: right;">0.293</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: left;">Naive Bayes</td>
<td style="text-align: right;">0.814</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">0.489</td>
<td style="text-align: right;">0.373</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>As shown in <a href="#tbl-performance-metrics" class="quarto-xref">Table&nbsp;4</a>, the Decision Tree model demonstrates superior performance across all evaluation metrics compared to the Naive Bayes model. The Decision Tree achieves higher accuracy, f2-score, recall, and precision scores, making it the optimal choice for our diabetes prediction task.</p>
</section>
<section id="performance-visualization" class="level4">
<h4 class="anchored" data-anchor-id="performance-visualization">Performance Visualization</h4>
<div id="fig-performance-comparison" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-performance-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/model_performance_comparison.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-performance-comparison-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Comparison of model performance metrics on the test set
</figcaption>
</figure>
</div>
<p>The performance comparison in <a href="#fig-performance-comparison" class="quarto-xref">Figure&nbsp;6</a> demonstrates that the Decision Tree model outperforms the Naive Bayes model across all evaluation metrics.</p>
</section>
<section id="confusion-matrix" class="level4">
<h4 class="anchored" data-anchor-id="confusion-matrix">Confusion Matrix</h4>
<div id="fig-confusion-matrix" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-confusion-matrix-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../results/figures/confusion_matrix.png" class="img-fluid figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-confusion-matrix-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Confusion matrix for the best performing model (Decision Tree)
</figcaption>
</figure>
</div>
<p>The confusion matrix in <a href="#fig-confusion-matrix" class="quarto-xref">Figure&nbsp;7</a> shows the detailed classification performance of our best model. The model correctly identified a significant portion of the test cases, demonstrating strong predictive capability.</p>
</section>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<p>The current performance of the Decision Tree model is likely already good enough to offer some benefit in the real world given the large number of people with undiagnosed diabetes. However, the recall score of 78.4% could likely be improved, and the precision score of 29.3% definitely leaves something to be desired.</p>
<p>We were surprised by the high rate of false positives shown in <a href="#fig-confusion-matrix" class="quarto-xref">Figure&nbsp;7</a>, which might be an indication of how many non-diabetic people are at risk. Further improvements to predicting diabetes could likely be found by trying a wider variety of model types and using a wider hyperparameter search, and possibly through more feature engineering. A future study could be done to find a smaller set of the most easy to obtain features, as such a model would be more usable by the average person.</p>
<p>Some work is needed to determine this smaller number of easy to obtain features that doesn’t significantly reduce model performance. Another question is whether a regression model could be made that predicts a person’s risk as a percent chance of developing diabetes, though longitudinal data might be required for this type of prediction.</p>
</section>
<section id="references" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Allaire_Quarto_2025" class="csl-entry" role="listitem">
Allaire, J. J., Charles Teague, Carlos Scheidegger, Yihui Xie, Christophe Dervieux, and Gordon Woodhull. 2025. <span>“<span>Quarto</span>.”</span> <a href="https://doi.org/10.5281/zenodo.5960048">https://doi.org/10.5281/zenodo.5960048</a>.
</div>
<div id="ref-astanin_tabulate" class="csl-entry" role="listitem">
Astanin, Sergeio. 2025. <span>“Tabulate: Pretty-Print Tabular Data in Python.”</span> <a href="https://github.com/astanin/python-tabulate" class="uri">https://github.com/astanin/python-tabulate</a>.
</div>
<div id="ref-niels_bantilan-proc-scipy-2020" class="csl-entry" role="listitem">
Bantilan, Niels. 2020. <span>“Pandera: <span>S</span>tatistical <span>D</span>ata <span>V</span>alidation of <span>P</span>andas <span>D</span>ataframes.”</span> In <em><span>P</span>roceedings of the 19th <span>P</span>ython in <span>S</span>cience <span>C</span>onference</em>, edited by Meghann Agarwal, Chris Calloway, Dillon Niederhut, and David Shupe, 116–24. <a href="https://doi.org/ 10.25080/Majora-342d178e-010 ">https://doi.org/ 10.25080/Majora-342d178e-010 </a>.
</div>
<div id="ref-chorev2022deepcheckslibrarytestingvalidating" class="csl-entry" role="listitem">
Chorev, Shir, Philip Tannor, Dan Ben Israel, Noam Bressler, Itay Gabbay, Nir Hutnik, Jonatan Liberman, Matan Perlmutter, Yurii Romanyshyn, and Lior Rokach. 2022. <span>“Deepchecks: A Library for Testing and Validating Machine Learning Models and Data.”</span> <a href="https://arxiv.org/abs/2203.08491">https://arxiv.org/abs/2203.08491</a>.
</div>
<div id="ref-kagglediabetes" class="csl-entry" role="listitem">
Dane, Sohier, and Alex Teboul. 2021. <span>“Diabetes Health Indicators Dataset.”</span> <a href="https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset/data" class="uri">https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset/data</a>; Center of Disease Control.
</div>
<div id="ref-ucimlrepo" class="csl-entry" role="listitem">
Kelly, Markelle, Rachel Longjohn, and Kolby Nottingham. 2021. <span>“The UCI Machine Learning Repository.”</span> University of California, Irvine, School of Information; Computer Sciences. <a href="http://archive.ics.uci.edu/ml">http://archive.ics.uci.edu/ml</a>.
</div>
<div id="ref-bmi" class="csl-entry" role="listitem">
Keys, Ancel, Flaminio Fidanza, Martti J Karvonen, Noburu Kimura, and Henry L Taylor. 2014. <span>“Indices of Relative Weight and Obesity*.”</span> <em>International Journal of Epidemiology</em> 43 (3): 655–65. <a href="https://doi.org/10.1093/ije/dyu058">https://doi.org/10.1093/ije/dyu058</a>.
</div>
<div id="ref-mckinney-proc-scipy-2010" class="csl-entry" role="listitem">
McKinney, Wes. 2010. <span>“<span>D</span>ata <span>S</span>tructures for <span>S</span>tatistical <span>C</span>omputing in <span>P</span>ython.”</span> In <em><span>P</span>roceedings of the 9th <span>P</span>ython in <span>S</span>cience <span>C</span>onference</em>, edited by Stéfan van der Walt and Jarrod Millman, 56–61. <a href="https://doi.org/ 10.25080/Majora-92bf1922-00a ">https://doi.org/ 10.25080/Majora-92bf1922-00a </a>.
</div>
<div id="ref-numpy" class="csl-entry" role="listitem">
<em>NumPy Documentation</em>. 2008-2022. <a href="https://numpy.org/doc/1.26/">https://numpy.org/doc/1.26/</a>.
</div>
<div id="ref-click" class="csl-entry" role="listitem">
Pallets. 2020. <em>Click</em>. <a href="https://click.palletsprojects.com/">https://click.palletsprojects.com/</a>.
</div>
<div id="ref-scikit-learn" class="csl-entry" role="listitem">
Pedregosa, F., G. Varoquaux, A. Gramfort, V. Michel, B. Thirion, O. Grisel, M. Blondel, et al. 2011. <span>“Scikit-Learn: Machine Learning in <span>P</span>ython.”</span> <em>Journal of Machine Learning Research</em> 12: 2825–30.
</div>
<div id="ref-pythondocs" class="csl-entry" role="listitem">
<em>Python 3.11.6 Documentation</em>. 2021-2025. <a href="https://docs.python.org/release/3.11.6/reference/index.html">https://docs.python.org/release/3.11.6/reference/index.html</a>.
</div>
<div id="ref-usarenal" class="csl-entry" role="listitem">
Rios, Nilka Burrows, Isreal Hora, Linda S. Geiss, Edward W. Gregg, and Ann Albright. 2017. <span>“Incidence of End-Stage Renal Disease Attributed to Diabetes Among Persons with Diagnosed Diabetes — United States and Puerto Rico.”</span> <em>Incidence of End-Stage Renal Disease Attributed to Diabetes Among Persons with Diagnosed Diabetes — United States and Puerto Rico</em>, no. 66(43): 1165–70.
</div>
<div id="ref-Satyanarayan2017" class="csl-entry" role="listitem">
Satyanarayan, Arvind, Dominik Moritz, Kanit Wongsuphasawat, and Jeffrey Heer. 2017. <span>“Vega-Lite: A Grammar of Interactive Graphics.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 23 (1): 341–50.
</div>
<div id="ref-diabetescanada" class="csl-entry" role="listitem">
<span>“Snapshot of Diabetes in Canada, 2023.”</span> 2023. <a href="https://www.canada.ca/en/public-health/services/publications/diseases-conditions/snapshot-diabetes-canada-2023.html" class="uri">https://www.canada.ca/en/public-health/services/publications/diseases-conditions/snapshot-diabetes-canada-2023.html</a>; Public Health Agency of Canada.
</div>
<div id="ref-diabetescare" class="csl-entry" role="listitem">
Stafford, Lauryn K, Anna Gage, Yvonne Yiru Xu, Madeleine Conrad, Ismael Barreras Beltran, and Edward J Boyko. 2025. <span>“Global, Regional, and National Cascades of Diabetes Care, 2000–23: A Systematic Review and Modelling Analysis Using Findings from the Global Burden of Disease Study.”</span> <em>The Lancet Diabetes &amp; Endocrinology</em>, no. 13(11): 924–34.
</div>
<div id="ref-reback2020pandas" class="csl-entry" role="listitem">
team, The pandas development. 2020. <span>“Pandas-Dev/Pandas: Pandas.”</span> Zenodo. <a href="https://doi.org/10.5281/zenodo.3509134">https://doi.org/10.5281/zenodo.3509134</a>.
</div>
<div id="ref-VanderPlas2018" class="csl-entry" role="listitem">
VanderPlas, Jacob, Brian Granger, Jeffrey Heer, Dominik Moritz, Kanit Wongsuphasawat, Arvind Satyanarayan, Eitan Lees, Ilia Timofeev, Ben Welsh, and Scott Sievert. 2018. <span>“Altair: Interactive Statistical Visualizations for Python.”</span> <em>Journal of Open Source Software</em> 3 (32): 1057. <a href="https://doi.org/10.21105/joss.01057">https://doi.org/10.21105/joss.01057</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>